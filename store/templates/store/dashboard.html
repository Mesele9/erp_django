{% extends 'store_base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<h1>Dashboard</h1>
<h2>Low Stock Items</h2>
<table>
    <tr>
        <th>Description</th>
        <th>Category</th>
        <th>Unit of Measurement</th>
        <th>Current Unit Price</th>
        <th>Stock Balance</th>
        <th>Minimum Stock</th>
    </tr>
    {% for item in low_stock_items %}
    <tr>
        <td>{{ item.description }}</td>
        <td>{{ item.category }}</td>
        <td>{{ item.unit_of_measurement }}</td>
        <td>{{ item.current_unit_price }}</td>
        <td>{{ item.stock_balance }}</td>
        <td>{{ item.minimum_stock }}</td>
    </tr>
    {% endfor %}
</table>

<h2>Recent Purchase Records</h2>
<table>
    <tr>
        <th>Date</th>
        <th>Voucher No</th>
        <th>Supplier</th>
        <th>Purchaser</th>
    </tr>
    {% for record in recent_purchase_records %}
    <tr>
        <td>{{ record.date }}</td>
        <td><a href="{% url 'purchase_record_detail' record.pk %}">{{ record.voucher_number }}</a></td>
        <td>{{ record.supplier }}</td>
        <td>{{ record.purchaser }}</td>
    </tr>
    {% endfor %}
</table>

<h2>Recent Issue Records</h2>
<table>
    <tr>
        <th>Date</th>
        <th>Voucher No</th>
        <th>Department</th>
        <th>Issued By</th>
        <th>Received By</th>
    </tr>
    {% for record in recent_issue_records %}
    <tr>
        <td>{{ record.date }}</td>
        <td><a href="{% url 'issue_record_detail' record.pk %}">{{ record.voucher_number }}</a></td>
        <td>{{ record.department }}</td>
        <td>{{ record.issued_by }}</td>
        <td>{{ record.received_by }}</td>
    </tr>
    {% endfor %}
</table>

<h2>Items</h2>
<table>
    <tr>
        <th>Description</th>
        <th>Category</th>
        <th>Unit of Measurement</th>
        <th>Current Unit Price</th>
        <th>Stock Balance</th>
    </tr>
    {% for item in items %}
    <tr>
        <td>{{ item.description }}</td>
        <td>{{ item.category }}</td>
        <td>{{ item.unit_of_measurement }}</td>
        <td>{{ item.current_unit_price }}</td>
        <td>{{ item.stock_balance }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
